<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Infograf铆a de Datasets y Regresiones</title>
<style>
    body {
        font-family: 'Arial', sans-serif;
        background: #f4f4f9;
        color: #333;
        margin: 0;
        padding: 0;
    }
    header {
        background: #4b6cb7;
        color: white;
        text-align: center;
        padding: 2rem 1rem;
    }
    header h1 {
        margin: 0;
        font-size: 2rem;
    }
    .container {
        max-width: 1100px;
        margin: 2rem auto;
        padding: 0 1rem;
    }
    .dataset-card {
        background: white;
        border-radius: 12px;
        box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        margin-bottom: 2rem;
        overflow: hidden;
        transition: transform 0.3s ease;
    }
    .dataset-card:hover {
        transform: translateY(-5px);
    }
    .dataset-header {
        background: #6a82fb;
        color: white;
        padding: 1rem 1.5rem;
        cursor: pointer;
        font-size: 1.2rem;
        font-weight: bold;
    }
    .dataset-content {
        display: none;
        padding: 1rem 1.5rem;
        line-height: 1.5;
    }
    pre {
        background: #f0f0f0;
        padding: 1rem;
        border-radius: 8px;
        overflow-x: auto;
    }
    code {
        font-family: 'Courier New', monospace;
    }
    h3 {
        margin-top: 1rem;
        color: #4b6cb7;
    }
    ul {
        padding-left: 1.2rem;
    }
</style>
</head>
<body>

<header>
    <h1>Infograf铆a: Regresiones con Python y Datasets</h1>
</header>

<div class="container">

    <!-- DATASET 1: Heart Disease -->
    <div class="dataset-card">
        <div class="dataset-header"> Dataset 1: Heart Disease</div>
        <div class="dataset-content">
            <h3>Descripci贸n:</h3>
            <p>Este dataset contiene informaci贸n cl铆nica de pacientes, incluyendo edad, presi贸n arterial, colesterol y frecuencia cardiaca m谩xima alcanzada (thalach). Se utiliza para <strong>regresi贸n lineal y polinomial</strong>.</p>
            <ul>
                <li><strong>Variable objetivo (y):</strong> thalach (frecuencia cardiaca m谩xima, continua)</li>
                <li><strong>Variables predictoras (X):</strong> age, trestbps, chol</li>
            </ul>
            <h3>C贸digo explicado:</h3>
            <pre><code># 1. Importar librer铆as
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
from sklearn.model_selection import train_test_split
from sklearn.linear_model import LinearRegression
from sklearn.metrics import mean_squared_error, r2_score
</code></pre>
            <p>Importamos librer铆as para manipulaci贸n de datos, gr谩ficos y regresi贸n lineal.</p>

            <pre><code># 2. Crear dataset simulado
df = pd.DataFrame({
    "age": [...],
    "trestbps": [...],
    "chol": [...],
    "thalach": [...]
})</code></pre>
            <p>Se crea un DataFrame con informaci贸n de ejemplo.</p>

            <pre><code># 3. Definir X y y
X = df[["age", "trestbps", "chol"]]
y = df["thalach"]</code></pre>
            <p>Seleccionamos las columnas predictoras y la variable objetivo.</p>

            <pre><code># 4. Divisi贸n en entrenamiento y prueba
X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2, random_state=42)</code></pre>
            <p>Dividimos el dataset para entrenar y probar el modelo.</p>

            <pre><code># 5. Entrenar modelo de regresi贸n lineal
lin_model = LinearRegression()
lin_model.fit(X_train, y_train)</code></pre>
            <p>Entrenamos el modelo de regresi贸n lineal.</p>

            <pre><code># 6. Predicciones y evaluaci贸n
y_pred = lin_model.predict(X_test)
mse = mean_squared_error(y_test, y_pred)
r2 = r2_score(y_test, y_pred)</code></pre>
            <p>Calculamos predicciones y m茅tricas de desempe帽o (MSE y R虏).</p>
        </div>
    </div>

    <!-- DATASET 2: Coches Usados -->
    <div class="dataset-card">
        <div class="dataset-header"> Dataset 2: Coches Usados</div>
        <div class="dataset-content">
            <h3>Descripci贸n:</h3>
            <p>Informaci贸n sobre coches usados. Se busca predecir <strong>selling_price</strong> usando caracter铆sticas como a帽o, kilometraje, tipo de combustible y transmisi贸n.</p>

            <ul>
                <li>Variables num茅ricas: year, km_driven</li>
                <li>Variables categ贸ricas: fuel, seller_type, transmission, owner, brand</li>
                <li>Variable objetivo: selling_price</li>
            </ul>

            <h3>C贸digo explicado:</h3>
            <pre><code># 1. Librer铆as y carga del dataset
import pandas as pd
import numpy as np
from sklearn.model_selection import train_test_split
from sklearn.preprocessing import OneHotEncoder, PolynomialFeatures, StandardScaler
from sklearn.pipeline import Pipeline
from sklearn.compose import ColumnTransformer
from sklearn.linear_model import RidgeCV
from sklearn.metrics import mean_squared_error, r2_score</code></pre>
            <p>Preparamos librer铆as para limpieza, codificaci贸n, polinomios y regresi贸n ridge.</p>

            <pre><code># 2. Limpiar datos
df = df.drop_duplicates()
df = df.dropna(subset=['selling_price','year','km_driven'])
df['brand'] = df['name'].str.split().str[0].str.lower()</code></pre>
            <p>Eliminamos duplicados y valores nulos; extraemos marca de los coches.</p>

            <pre><code># 3. Definir X e y
num_cols = ['year','km_driven']
cat_cols = ['fuel','seller_type','transmission','owner','brand']
X = df[num_cols + cat_cols]
y = np.log1p(df['selling_price'])</code></pre>
            <p>Definimos las variables num茅ricas y categ贸ricas y aplicamos log-transform al target.</p>

            <pre><code># 4. Pipeline y modelo
num_pipeline = Pipeline([...])
cat_pipeline = Pipeline([...])
preprocessor = ColumnTransformer([...])
regressor = Pipeline([('pre',preprocessor),('reg',RidgeCV(alphas=[0.01,0.1,1,10,100],cv=5))])
regressor.fit(X_train, y_train)</code></pre>
            <p>Preprocesamos datos y entrenamos un modelo de RidgeCV con caracter铆sticas polinomiales.</p>
        </div>
    </div>

    <!-- DATASET 3: Predicci贸n de P茅rdida de Clientes -->
    <div class="dataset-card">
        <div class="dataset-header"> Dataset 3: Churn / Exited</div>
        <div class="dataset-content">
            <h3>Descripci贸n:</h3>
            <p>Se busca predecir si un cliente se da de baja (Exited) usando regresi贸n log铆stica y la funci贸n sigmoide.</p>

            <ul>
                <li>Variable objetivo: Exited (0 o 1)</li>
                <li>Features: num茅ricas y categ贸ricas transformadas con one-hot</li>
            </ul>

            <h3>C贸digo explicado:</h3>
            <pre><code># 1. Librer铆as
import pandas as pd
import numpy as np
from sklearn.model_selection import train_test_split
from sklearn.preprocessing import StandardScaler
from sklearn.linear_model import LogisticRegression
from sklearn.metrics import accuracy_score, confusion_matrix, roc_auc_score</code></pre>
            <p>Importamos librer铆as para clasificaci贸n y m茅tricas de evaluaci贸n.</p>

            <pre><code># 2. Preprocesamiento
X = pd.get_dummies(df.drop("Exited",axis=1),drop_first=True)
y = df["Exited"]
X_train, X_test, y_train, y_test = train_test_split(X,y,test_size=0.2,random_state=42)
scaler = StandardScaler()
X_train_scaled = scaler.fit_transform(X_train)
X_test_scaled = scaler.transform(X_test)</code></pre>
            <p>Codificamos variables categ贸ricas y escalamos features.</p>

            <pre><code># 3. Entrenar modelo
log_reg = LogisticRegression(max_iter=1000, random_state=42)
log_reg.fit(X_train_scaled, y_train)</code></pre>
            <p>Entrenamos regresi贸n log铆stica.</p>

            <pre><code># 4. Funci贸n sigmoide
def sigmoid(z):
    return 1 / (1 + np.exp(-z))</code></pre>
            <p>Definimos la funci贸n sigmoide para transformar valores lineales en probabilidades.</p>

            <pre><code># 5. Predicciones y evaluaci贸n
y_pred = log_reg.predict(X_test_scaled)
accuracy_score(y_test,y_pred)</code></pre>
            <p>Calculamos predicciones y evaluamos accuracy, matriz de confusi贸n y curva ROC.</p>
        </div>
    </div>

</div>
<!-- SECCIN FINAL: Gr谩ficos y Conclusiones -->
<div class="container">
    <h2 style="text-align:center; color:#4b6cb7;"> Resultados y Conclusiones</h2>

    <!-- Dataset 1: Heart Disease -->
    <div class="dataset-card">
        <div class="dataset-header"> Heart Disease - Gr谩ficos y An谩lisis</div>
        <div class="dataset-content">
            <h3>Gr谩fico de Valores Reales vs Predichos:</h3>
            <img src="heart_disease_pred.png" alt="Heart Disease Predicci贸n" style="width:100%; max-width:600px; border-radius:8px;">

            <h3>An谩lisis y Conclusiones:</h3>
            <ul>
                <li>El modelo de regresi贸n lineal muestra un R虏 de <strong>ejemplo: 0.85</strong>, indicando un buen ajuste a los datos.</li>
                <li>Fortalezas: f谩cil interpretaci贸n, r谩pido entrenamiento, adecuado para relaciones lineales.</li>
                <li>Debilidades: no captura relaciones no lineales complejas entre variables como podr铆a ocurrir con polinomios de mayor grado.</li>
                <li>Conclusi贸n: el modelo es 煤til para predecir la frecuencia cardiaca m谩xima con base en edad, presi贸n y colesterol, pero podr铆a mejorarse incluyendo m谩s variables predictoras.</li>
            </ul>
        </div>
    </div>

    <!-- Dataset 2: Coches Usados -->
    <div class="dataset-card">
        <div class="dataset-header"> Coches Usados - Gr谩ficos y An谩lisis</div>
        <div class="dataset-content">
            <h3>Predicho vs Real con Curva Polinomial:</h3>
            <img src="polinomial.png" alt="Coches Usados Predicci贸n" style="width:100%; max-width:600px; border-radius:8px;">

            <h3>An谩lisis y Conclusiones:</h3>
            <ul>
                <li>El modelo polinomial regularizado (RidgeCV) logra un R虏 de <strong>ejemplo: 0.78</strong>, mostrando un buen desempe帽o en la predicci贸n de precios.</li>
                <li>Fortalezas: maneja multicolinealidad de las variables polinomiales, captura relaciones no lineales entre caracter铆sticas y precio.</li>
                <li>Debilidades: requiere preprocesamiento cuidadoso y transformaci贸n logar铆tmica para homoscedasticidad; sensible a outliers si no se filtran correctamente.</li>
                <li>Conclusi贸n: este modelo es adecuado para predicci贸n de precios de coches usados, pero puede mejorarse incluyendo m谩s caracter铆sticas y ajustes de hiperpar谩metros.</li>
            </ul>
        </div>
    </div>

    <!-- Dataset 3: Predicci贸n de Churn -->
    <div class="dataset-card">
        <div class="dataset-header"> Predicci贸n de Clientes - Gr谩ficos y An谩lisis</div>
        <div class="dataset-content">
            <h3>Curva Sigmoide Ajustada a los Datos:</h3>
            <img src="logistica.jpg" alt="Churn Sigmoide" style="width:100%; max-width:600px; border-radius:8px;">

            <h3>An谩lisis y Conclusiones:</h3>
            <ul>
                <li>La regresi贸n log铆stica muestra una exactitud (accuracy) de <strong>ejemplo: 0.85</strong> y un AUC cercano a 0.90, lo que indica buena capacidad de clasificaci贸n.</li>
                <li>Fortalezas: modelo interpretable, probabilidad directa de churn, f谩cil de implementar.</li>
                <li>Debilidades: no captura relaciones no lineales complejas sin transformaci贸n o polinomios; sensible a correlaci贸n entre features.</li>
                <li>Conclusi贸n: el modelo es eficaz para predecir clientes que abandonan, permitiendo estrategias de retenci贸n basadas en probabilidades predichas.</li>
            </ul>
        </div>
    </div>

</div>

<script>
    // Script para abrir/cerrar tarjetas
    const headers = document.querySelectorAll(".dataset-header");
    headers.forEach(header => {
        header.addEventListener("click", () => {
            const content = header.nextElementSibling;
            content.style.display = content.style.display === "block" ? "none" : "block";
        });
    });
</script>

</body>
</html>